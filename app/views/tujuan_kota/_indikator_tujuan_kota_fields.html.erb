<fieldset class="mb-3">
  <div class="field mt-0">
    <%= form.label :indikator, { class: "form-label" } %>
    <%= form.text_area :indikator, { class: "form-control" } %>
  </div>
  <div class="field mt-0">
    <%= form.label :rumus_perhitungan, { class: "form-label" } %>
    <%= form.text_area :rumus_perhitungan, { class: "form-control" } %>
  </div>
  <div class="field mt-0">
    <%= form.label :sumber_data, { class: "form-label" } %>
    <%= form.text_area :sumber_data, { class: "form-control" } %>
  </div>
  <div class="field row mt-0" id="target-indikator">
    <% (@tahun_awal..@tahun_akhir).each do |tahun| %>
      <% if form.object.targets.where(tahun: tahun).any? %>
        <% target = form.object.targets.find_by(tahun: tahun) %>
      <% else %>
        <% target = Target.new(tahun: tahun) %>
      <% end %>
      <%= form.fields_for :targets, target do |f_target| %>
        <%= render 'tujuan_opds/target_fields', form: f_target %>
      <% end %>
    <% end %>
  </div>
  <%= link_to_remove_nested(form, link_text: 'Hapus Indikator',
                            link_classes: 'btn btn-outline-danger w-100 mt-2') %>
</fieldset>
