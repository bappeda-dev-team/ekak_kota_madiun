<% rowspan_ind = sas.pohonable.indikators.size + 1 %>
<% pohon = PohonKotaPresenter.new(sas) %>
<tr class="<%= pohon.warna_row %>">
    <td rowspan="<%= rowspan_ind %>" class="text-wrap text-center"><%= no %></td>
    <td rowspan="<%= rowspan_ind %>" class="text-wrap"><%= sas.pohonable %></td>
    <td class="p-0 m-0" colspan="3"></td>
    <td rowspan="<%= rowspan_ind %>" class="text-wrap"><%= sas.opd %></td>
    <td rowspan="<%= rowspan_ind %>" class="text-wrap">
        <% if pohon.rencana_kinerjas %>
            <% pohon.rencana_kinerjas.each.with_index(1) do |sasaran, no| %>
                <% if pohon.role == 'eselon_4' %>
                    <%= sasaran&.subkegiatan %>
                <% end %>
            <% end %>
        <% end %>
        <% if pohon.role == 'eselon_2' || pohon.role == 'eselon_3' || pohon.role == 'sub_sub_pohon_kota' || pohon.role == 'sub_pohon_kota' || pohon.role == 'pohon_kota' %>
            <% program_pohon(pohon.pohonable, pohon.role).each do |program| %>
                <%= program&.nama_program %>
            <% end %>
        <% end %>
    </td>
    <td rowspan="<%= rowspan_ind %>" class="border">

    </td>
    <td rowspan="<%= rowspan_ind %>" class="border"><%= sas.keterangan %></td>
</tr>
<% sas.pohonable.indikators.each do |ind| %>
    <tr class="<%= pohon.warna_row %>">
        <td class="text-wrap border"><%= ind %></td>
        <td class="border"><%= ind.target %></td>
        <td class="border"><%= ind.satuan %></td>
    </tr>
<% end %>

<% sas.sub_pohons.each.with_index(1) do |sub_sas, no_sub| %>
    <%= render 'sasaran_kota/row_tabel_rad_kota', sas: sub_sas, no: "#{no}.#{no_sub}" %>
<% end %>
